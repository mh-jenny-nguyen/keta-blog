{"ast":null,"code":"var _jsxFileName = \"/Users/jennynguyen/Beta/keta-blog/src/context.js\";\nimport React, { Component } from 'react';\nimport Client from './contentful';\nconst PostContext = React.createContext();\n\nclass PostProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: [],\n      filterPosts: [],\n      currentPosts: [],\n      loading: true,\n      keyword: '',\n      featuredPost: [],\n      currentPage: 1,\n      numberPerPage: 8,\n      totalOfPost: 0\n    };\n\n    this.getData = async () => {\n      try {\n        let response = await Client.getEntries({\n          content_type: \"post\",\n          order: \"fields.dateUpdated\"\n        });\n        let posts = this.formatData(response.items);\n        let featuredPost = posts.filter(post => post.featured === true);\n        let currentPosts = posts.slice(0, this.state.numberPerPage <= this.state.totalOfPost ? this.state.numberPerPage - 1 : this.state.totalOfPost - 1);\n        this.setState({\n          posts: posts,\n          loading: false,\n          featuredPost: featuredPost,\n          TotalOfPost: posts.length,\n          currentPosts: currentPosts\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.getPost = slug => {\n      let tempPost = [...this.state.posts];\n      const post = this.state.posts.find(post => {\n        return post.slug === slug;\n      });\n      return post;\n    };\n\n    this.formatDate = date => {\n      const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      let tempDate = new Date(date);\n      let string = monthNames[tempDate.getMonth()] + ' ' + (\"0\" + tempDate.getDate()).slice(-2) + ', ' + tempDate.getFullYear();\n      return string;\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  formatData(items) {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let image = item.fields.image.fields.file.url;\n      let author = {\n        name: item.fields.author.fields.name,\n        description: item.fields.author.fields.description,\n        avatar: item.fields.author.fields.avatar.fields.file.url,\n        url: item.fields.author.fields.url\n      };\n      let dateCreated = this.formatDate(item.fields.dateCreated);\n      let dateUpdated = this.formatDate(item.fields.dateUpdated);\n      let post = { ...item.fields,\n        id,\n        image,\n        author,\n        dateCreated,\n        dateUpdated\n      };\n      return post;\n    });\n    return tempItems;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(PostContext.Provider, {\n      value: { ...this.state,\n        getPost: this.getPost\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 4\n      }\n    }, this.props.children);\n  }\n\n}\n\nconst PostConsumer = PostContext.Consumer;\nexport function withPostConsumer(Component) {\n  return function consumerWrapper(props) {\n    return /*#__PURE__*/React.createElement(PostConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 10\n      }\n    }, value => /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      context: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 14\n      }\n    })));\n  };\n}\nexport { PostProvider, PostConsumer, PostContext };","map":{"version":3,"sources":["/Users/jennynguyen/Beta/keta-blog/src/context.js"],"names":["React","Component","Client","PostContext","createContext","PostProvider","state","posts","filterPosts","currentPosts","loading","keyword","featuredPost","currentPage","numberPerPage","totalOfPost","getData","response","getEntries","content_type","order","formatData","items","filter","post","featured","slice","setState","TotalOfPost","length","error","console","log","getPost","slug","tempPost","find","formatDate","date","monthNames","tempDate","Date","string","getMonth","getDate","getFullYear","componentDidMount","tempItems","map","item","id","sys","image","fields","file","url","author","name","description","avatar","dateCreated","dateUpdated","render","props","children","PostConsumer","Consumer","withPostConsumer","consumerWrapper","value"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Client from './contentful';\n\nconst PostContext = React.createContext();\n\nclass PostProvider extends Component {\n\tstate = {\n\t\tposts: [],\n\t\tfilterPosts: [],\n\t\tcurrentPosts: [],\n\t\tloading: true,\n\t\tkeyword: '',\n\t\tfeaturedPost: [],\n\t\tcurrentPage: 1,\n\t\tnumberPerPage: 8,\n\t\ttotalOfPost: 0,\n\t}\n\n\tgetData = async () => {\n\t\ttry{\n\t\t\tlet response = await Client.getEntries({\n\t\t\t\tcontent_type: \"post\",\n\t\t\t\torder: \"fields.dateUpdated\"\n\t\t\t});\n\n\t\t\tlet posts = this.formatData(response.items);\n\n\t\t\tlet featuredPost = posts.filter(post => post.featured === true);\n\n\t\t\tlet currentPosts = posts.slice(0, ( this.state.numberPerPage <= this.state.totalOfPost ? this.state.numberPerPage - 1 :  this.state.totalOfPost -1));\n\n\t\t\tthis.setState({\n\t\t\t\tposts: posts,\n\t\t\t\tloading: false,\n\t\t\t\tfeaturedPost: featuredPost,\n\t\t\t\tTotalOfPost: posts.length,\n\t\t\t\tcurrentPosts: currentPosts\n\t\t\t});\n\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.getData();\n\t}\n\n\tformatData (items) {\n\t\tlet tempItems = items.map(item => {\n\n\t\t\tlet id = item.sys.id\n\t\t\tlet image = item.fields.image.fields.file.url;\n\t\t\tlet author = {\n\t\t\t\tname: item.fields.author.fields.name,\n\t\t\t\tdescription: item.fields.author.fields.description,\n\t\t\t\tavatar: item.fields.author.fields.avatar.fields.file.url,\n\t\t\t\turl: item.fields.author.fields.url,\n\t\t\t}\n\n\t\t\tlet dateCreated = this.formatDate(item.fields.dateCreated);\n\t\t\tlet dateUpdated = this.formatDate(item.fields.dateUpdated);\n\n\t\t\tlet post = {...item.fields, id, image, author, dateCreated, dateUpdated};\n\n\t\t\treturn post;\n\t\t});\n\n\t\treturn tempItems;\n\t}\n\n\tgetPost = (slug) => {\n\t\tlet tempPost = [...this.state.posts]\n\t\tconst post = this.state.posts.find( post => {\n\t\t\treturn post.slug === slug;\n\t\t});\n\n\t\treturn post;\n\t}\n\n\tformatDate = (date) => {\n\t\tconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n\t\t  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n\t\t];\n\t\tlet tempDate = new Date(date);\n\t\tlet string = monthNames[tempDate.getMonth()] + ' ' + (\"0\" + tempDate.getDate()).slice(-2) + ', ' + tempDate.getFullYear();\n\t\t\n\t\treturn string;\n\t} \n\n\trender() {\n\t\treturn(\n\t\t\t<PostContext.Provider value={{...this.state, getPost: this.getPost}}>\n\t\t\t\t{this.props.children}\n\t\t\t</PostContext.Provider>\n\t\t);\n\t}\n}\n\nconst PostConsumer = PostContext.Consumer;\n\nexport function withPostConsumer(Component) {\n\treturn function consumerWrapper(props) {\n\t\treturn <PostConsumer>\n\t\t\t{value => <Component {...props} context={value} /> }\n\t\t</PostConsumer>\n\t}\n}\n\nexport {PostProvider, PostConsumer, PostContext}"]},"metadata":{},"sourceType":"module"}